{"version":3,"sources":["components/Post.js","firebase.js","components/Upload.js","components/Modal.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","root","display","margin","spacing","large","width","height","text","post","backgroundColor","flexDirection","border","maxWidth","post_header","alignItems","post_image","objectFit","borderTop","borderBottom","Post","imgUrl","username","caption","console","log","classes","className","Avatar","alt","src","firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","storage","padding","progress","marginBottom","input","button","Upload","useState","setCaption","image","setImage","setProgress","Input","type","placeholder","value","onChange","e","target","color","files","style","id","htmlFor","IconButton","variant","component","PhotoCamera","LinearProgress","Button","onClick","uploadTask","ref","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","error","alert","message","child","getDownloadURL","then","url","collection","add","timestamp","FieldValue","serverTimestamp","imageUrl","getModalStyle","top","left","transform","form","disaply","paper","position","palette","background","boxShadow","shadows","box","justifyContent","logbutton","marginRight","img","login","dispaly","SimpleModal","modalStyle","open","setOpen","openSignin","setOpenSignin","setUserame","email","setEmail","password","setPassword","user","setUser","useEffect","unsubscribe","onAuthStateChanged","authUser","body","onSubmit","preventDefault","FormControl","required","fullWidth","InputLabel","autoComplete","autoFocus","createUserWithEmailAndPassword","updateProfile","displayName","catch","signinbody","signInWithEmailAndPassword","signOut","Modal","onClose","aria-labelledby","aria-describedby","App","posts","setPosts","setUsername","onSnapshot","docs","map","doc","data","Typography","align","gutterBottom","each","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.e89796b6.chunk.js","sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Box } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n\n    \"& > *\": {\n      margin: theme.spacing(1)\n    }\n  },\n  large: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n\n    margin: theme.spacing(2)\n  },\n  text: {\n    margin: theme.spacing(2)\n  },\n\n  post: {\n    backgroundColor: \"white\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    border: \"0.5px solid lightgrey\",\n    maxWidth: \"500px\",\n    margin: \"20px auto\"\n  },\n\n  post_header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  post_image: {\n    width: \"100%\",\n    maxWidth: \"500px\",\n    objectFit: \"contain\",\n    borderTop: \"1px solid lightgrey\",\n    borderBottom: \"1px solid lightgrey\"\n  }\n}));\n\nfunction Post({ imgUrl, username, caption }) {\n  console.log(imgUrl, username, caption);\n  const classes = useStyles();\n  return (\n    <div className={classes.post}>\n      <div className={classes.post_header}>\n        <Avatar\n          alt=\"Remy Sharp\"\n          src=\"https://images.unsplash.com/photo-1611367540679-d94566094025?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8d29tYW4lMjBmYWNlfGVufDB8MnwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60\"\n          className={classes.large}\n        />\n        <h3 className=\"post_userName\">{username}</h3>\n      </div>\n\n      <img src={imgUrl} alt=\"user avatar\" className={classes.post_image} />\n\n      <p className={classes.text}>\n        <strong>{username}:</strong> {caption}\n      </p>\n      {/* username + caption */}\n    </div>\n  );\n}\n\nexport default Post;\n","import firebase from \"@firebase/app\";\nimport \"@firebase/auth\";\nimport \"@firebase/storage\";\nimport \"@firebase/firestore\";\n\nconst config = {\n  apiKey: \"AIzaSyDGzTgPsG0FStItQ7ppelV3S-yB4m86cGI\",\n  authDomain: \"instagram-clone-app-ebf8a.firebaseapp.com\",\n  projectId: \"instagram-clone-app-ebf8a\",\n  storageBucket: \"instagram-clone-app-ebf8a.appspot.com\",\n  messagingSenderId: \"42253588690\",\n  appId: \"1:42253588690:web:d5c66cc81cf62c6012750b\"\n};\n\nconst firebaseApp = firebase.initializeApp(config);\n\nconst db = firebaseApp.firestore();\nconst auth = firebaseApp.auth();\nconst storage = firebaseApp.storage();\n\nexport { db, auth, storage };\n","import React, { useState } from \"react\";\nimport { Input, Button, IconButton, LinearProgress } from \"@material-ui/core\";\nimport { PhotoCamera } from \"@material-ui/icons\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { storage, db } from \"./../firebase\";\nimport firebase from \"@firebase/app\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    border: \"0.5px solid lightgrey\",\n\n    padding: theme.spacing(3),\n    width: \"450px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: \"0 auto\",\n    alignItems: \"center\"\n  },\n  progress: {\n    width: \"50%\",\n    marginBottom: theme.spacing(2)\n  },\n  input: {\n    width: \"100%\"\n  },\n  button: {\n    margin: theme.spacing(1)\n  }\n}));\n\nexport default function Upload({ username }) {\n  const classes = useStyles();\n\n  const [caption, setCaption] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [progress, setProgress] = useState(0);\n\n  const handleChange = (e) => {\n    if (e.target.files[0]) {\n      console.log(\"file:\", e.target.files[0]);\n      setImage(e.target.files[0]);\n    }\n  };\n\n  function handleUpload() {\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\n    console.log(\"image:\", image);\n    console.log(\"image name:\", image.name);\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        //progress function\n        const progress = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        setProgress(progress);\n      },\n      (error) => {\n        //error function\n        console.log(error);\n        alert(error.message);\n      },\n      () => {\n        //complete function\n        storage\n          .ref(\"images\")\n          .child(image.name)\n          .getDownloadURL()\n          .then((url) => {\n            //post image inside db\n            console.log(\"url:\" + url);\n            db.collection(\"posts\").add({\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n              caption: caption,\n              imageUrl: url,\n              username: username\n            });\n          });\n        setProgress(0);\n        setCaption(\"\");\n        setImage(null);\n      }\n    );\n  }\n\n  return (\n    <>\n      <div className={classes.root}>\n        <Input\n          type=\"text\"\n          placeholder=\"enter a caption\"\n          value={caption}\n          onChange={(e) => setCaption(e.target.value)}\n          className={classes.input}\n          color=\"secondary\"\n        />\n        <input\n          type=\"file\"\n          onChange={handleChange}\n          className={classes.input}\n          style={{ display: \"none\" }}\n          id=\"raised-button-file\"\n        />\n        <label htmlFor=\"raised-button-file\">\n          <IconButton\n            variant=\"raised\"\n            component=\"span\"\n            className={classes.button}\n            color=\"secondary\"\n          >\n            <PhotoCamera />\n          </IconButton>\n        </label>\n        <LinearProgress\n          variant=\"determinate\"\n          color=\"secondary\"\n          value={progress}\n          className={classes.progress}\n        />\n        <Button variant=\"outlined\" onClick={handleUpload}>\n          Upload\n        </Button>\n      </div>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Modal,\n  Button,\n  Input,\n  FormControl,\n  InputLabel\n} from \"@material-ui/core\";\nimport { auth } from \"./../firebase\";\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    disaply: \"flex\",\n    flexDirection: \"column\"\n  },\n  paper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    position: \"absolute\",\n    width: 250,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  },\n  box: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-around\"\n  },\n  button: {\n    marginBottom: 10\n  },\n  logbutton: {\n    marginRight: 10\n  },\n  img: {\n    maxWidth: 100\n  },\n  login: {\n    dispaly: \"flex\"\n  }\n}));\n\nexport default function SimpleModal() {\n  const classes = useStyles();\n  const [modalStyle] = useState(getModalStyle);\n  const [open, setOpen] = useState(false);\n\n  //modal open/close\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  //signup functionality\n  const [openSignin, setOpenSignin] = useState(false);\n  const [username, setUserame] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        //user has loged in\n        console.log(\"user:\", authUser);\n        setUser(authUser);\n      } else {\n        //user has loged out\n        setUser(null);\n      }\n    });\n\n    return () => {\n      //perform cleanup before refire useeffect\n      unsubscribe();\n    };\n  }, [user, username]);\n\n  const signup = (e) => {\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((authUser) => {\n        return authUser.user.updateProfile({\n          displayName: username\n        });\n      })\n      .catch((error) => alert(error.message));\n  };\n\n  const signout = (e) => {\n    auth.signOut();\n  };\n\n  const signin = (e) => {\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .catch((error) => alert(error.message));\n\n    setOpenSignin(false);\n  };\n\n  const body = (\n    <div style={modalStyle} className={classes.paper}>\n      <img\n        className={classes.img}\n        src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png\"\n        alt=\"instagram logo\"\n      />\n      <form\n        className={classes.form}\n        onSubmit={(e) => e.preventDefault() && false}\n      >\n        <FormControl margin=\"normal\" required fullWidth>\n          <InputLabel htmlFor=\"name\">Name</InputLabel>\n          <Input\n            id=\"name\"\n            name=\"name\"\n            autoComplete=\"off\"\n            autoFocus\n            value={username}\n            onChange={(e) => setUserame(e.target.value)}\n          />\n        </FormControl>\n        <FormControl margin=\"normal\" required fullWidth>\n          <InputLabel htmlFor=\"email\">Email Address</InputLabel>\n          <Input\n            id=\"email\"\n            name=\"email\"\n            autoComplete=\"off\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </FormControl>\n        <FormControl margin=\"normal\" required fullWidth>\n          <InputLabel htmlFor=\"password\">Password</InputLabel>\n          <Input\n            name=\"password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"off\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </FormControl>\n        <div className={classes.box}>\n          <Button\n            className={classes.button}\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={signup}\n          >\n            Sign up\n          </Button>\n          <Button\n            className={classes.button}\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={() => setOpen(false)}\n          >\n            Close\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n\n  const signinbody = (\n    <div style={modalStyle} className={classes.paper}>\n      <img\n        className={classes.img}\n        src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png\"\n        alt=\"instagram logo\"\n      />\n      <form\n        className={classes.form}\n        onSubmit={(e) => e.preventDefault() && false}\n      >\n        <FormControl margin=\"normal\" required fullWidth>\n          <InputLabel htmlFor=\"email\">Email Address</InputLabel>\n          <Input\n            id=\"email\"\n            name=\"email\"\n            autoComplete=\"off\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </FormControl>\n        <FormControl margin=\"normal\" required fullWidth>\n          <InputLabel htmlFor=\"password\">Password</InputLabel>\n          <Input\n            name=\"password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"off\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </FormControl>\n        <div className={classes.box}>\n          <Button\n            className={classes.button}\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={signin}\n          >\n            Sign in\n          </Button>\n          <Button\n            className={classes.button}\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={() => setOpenSignin(false)}\n          >\n            Close\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n\n  return (\n    <div>\n      {user ? (\n        <Button variant=\"contained\" color=\"secondary\" onClick={signout}>\n          Sign out\n        </Button>\n      ) : (\n        <div className={classes.login}>\n          <Button\n            className={classes.logbutton}\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => setOpenSignin(true)}\n          >\n            Log in\n          </Button>\n          <Button variant=\"contained\" color=\"secondary\" onClick={handleOpen}>\n            Sign Up\n          </Button>\n        </div>\n      )}\n      <Modal\n        open={open}\n        onClose={() => setOpen(false)}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        {body}\n      </Modal>\n      <Modal\n        open={openSignin}\n        onClose={() => setOpenSignin(false)}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        {signinbody}\n      </Modal>\n    </div>\n  );\n}\n","import \"./styles.css\";\nimport React, {\n  useState,\n  useEffect\n} from \"react\";\nimport Post from \"./components/Post\";\nimport { db, auth } from \"./firebase\";\nimport { Typography } from \"@material-ui/core\";\nimport Upload from \"./components/Upload\";\nimport Modal from \"./components/Modal\";\n\nexport default function App() {\n  const [posts, setPosts] = useState([]);\n  const [username, setUsername] = useState(\"\");\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    db.collection(\"posts\").onSnapshot(\n      (snapshot) => {\n        setPosts(\n          snapshot.docs.map((doc) => ({\n            id: doc.id,\n            post: doc.data()\n          }))\n        );\n        console.log(\"posts:\", posts);\n      }\n    );\n\n    const unsubscribe = auth.onAuthStateChanged(\n      (authUser) => {\n        if (authUser) {\n          //user has loged in\n          console.log(\"user:\", authUser);\n          setUser(authUser);\n          setUsername(user.displayName);\n        } else {\n          //user has loged out\n          setUser(null);\n          setUsername(\"guest\");\n        }\n      }\n    );\n\n    return () => {\n      //perform cleanup before refire useeffect\n      unsubscribe();\n    };\n  }, [user, username]);\n\n  return (\n    <div className=\"App\">\n      <div className=\"app_header\">\n        <img\n          className=\"app_headerImage\"\n          src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png\"\n          alt=\"instagram logo\"\n        />\n        <div className=\"app_login\">\n          <Modal />\n        </div>\n      </div>\n      <div className=\"app_body\">\n        <Typography\n          className=\"app_title\"\n          color=\"secondary\"\n          variant=\"h4\"\n          align=\"center\"\n          gutterBottom\n        >\n          Welcome to instagram ,{\" \"}\n          <strong className=\"app_username\">\n            {username}\n          </strong>\n        </Typography>\n        {username ? (\n          <Upload username={username} />\n        ) : (\n          <Typography>\n            Sorry you need to log in to upload\n            images\n          </Typography>\n        )}\n\n        {posts.map((each) => (\n          <Post\n            key={each.id}\n            imgUrl={each.post.imageUrl}\n            username={each.post.username}\n            caption={each.post.caption}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n","/** @format */\n\nimport { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}